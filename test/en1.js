var crypto = require('crypto');
var fs = require('fs');

var public_key = fs.readFileSync('../assets/acp_test_mer.cer').toString()
var private_key = fs.readFileSync('../assets/acp_test_mer.key').toString()

var data = "6216261000000000018"
var buff = new Buffer(data, 'utf8')

// var sign = crypto.createSign('RSA-SHA1');
// sign.update(data, 'utf8');

// var signature = sign.sign(public_key, 'base64');

// console.log(signature);


// crypto.privateDecrypt(private_key, buffer)
// crypto.privateEncrypt(private_key, buffer)
// crypto.publicDecrypt(public_key, buffer)
// crypto.publicEncrypt(public_key, buffer)
// var signature =  crypto.publicEncrypt(public_key, buff)
// console.log(signature.toString('base64'));

const RSA_PUBLIC_KEY = fs.readFileSync('../assets/acp_test_enc.cer').toString()


const java_PubKey = '-----BEGIN PUBLIC KEY-----\r\n\
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0eeg/HQlkpmYWMhRHE0B\r\n\
suVYDDaOIUVYGcMXYwgaTJravR8aJHSSerzOQpSegjIL63MSI5q+eJBpK7S5y6/9\r\n\
Xi6DPro9JHHDWBo9xHZ0NV2CiMXTRNx7DGUkQDrl8rd4qFRh8Lc1tFpVA4wx3C/u\r\n\
c0S/PG90TETjtx4zJrsWaxQ/IsW71f75yEVCJh+vycf7B0N5ijzDy8Jf4l3a9G6o\r\n\
M5qHb0JB+QCZezHcPrzODSrgCOUsjW3mAsqJTligbrJauKA/Kt4QeHvXqtXweROM\r\n\
ZbHdzEX8ewtn8ThKAivnIhkDqrDxEWppJe7LDeIOs1/ppIkY7QYqW/Ge8PbSgZEm\r\n\
iQIDAQAB\r\n\
-----END PUBLIC KEY-----'

const from_file = '308204433082032ba00302010202051002649227300d06092a864886f70d01010505003058310b300906035504061302434e3130302e060355040a13274368696e612046696e616e6369616c2043657274696669636174696f6e20417574686f72697479311730150603550403130e434643412054455354204f434131301e170d3135313231353039313133355a170d3137313231353039313133355a308181310b300906035504061302636e31173015060355040a130e434643412054455354204f43413131123010060355040b130943464341205445535431143012060355040b130b456e746572707269736573312f302d06035504031426303431405a323031342d31312d31314030303034303030303a5349474e40303030303030303530820122300d06092a864886f70d01010105000382010f003082010a0282010100d1e7a0fc742592999858c8511c4d01b2e5580c368e21455819c31763081a4c9adabd1f1a2474927abcce42949e82320beb7312239abe7890692bb4b9cbaffd5e2e833eba3d2471c3581a3dc47674355d8288c5d344dc7b0c6524403ae5f2b778a85461f0b735b45a55038c31dc2fee7344bf3c6f744c44e3b71e3326bb166b143f22c5bbd5fef9c84542261fafc9c7fb0743798a3cc3cbc25fe25ddaf46ea8339a876f4241f900997b31dc3ebcce0d2ae008e52c8d6de602ca894e58a06eb25ab8a03f2ade10787bd7aad5f079138c65b1ddcc45fc7b0b67f1384a022be7221903aab0f1116a6925eecb0de20eb35fe9a48918ed062a5bf19ef0f6d2819126890203010001'
const from_java = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0eeg/HQlkpmYWMhRHE0BsuVYDDaOIUVYGcMXYwgaTJravR8aJHSSerzOQpSegjIL63MSI5q+eJBpK7S5y6/9Xi6DPro9JHHDWBo9xHZ0NV2CiMXTRNx7DGUkQDrl8rd4qFRh8Lc1tFpVA4wx3C/uc0S/PG90TETjtx4zJrsWaxQ/IsW71f75yEVCJh+vycf7B0N5ijzDy8Jf4l3a9G6oM5qHb0JB+QCZezHcPrzODSrgCOUsjW3mAsqJTligbrJauKA/Kt4QeHvXqtXweROMZbHdzEX8ewtn8ThKAivnIhkDqrDxEWppJe7LDeIOs1/ppIkY7QYqW/Ge8PbSgZEmiQIDAQAB'
const from_node = 'MIIEQzCCAyugAwIBAgIFEAJkkicwDQYJKoZIhvcNAQEFBQAwWDELMAkGA1UEBhMCQ04xMDAuBgNVBAoTJ0NoaW5hIEZpbmFuY2lhbCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEXMBUGA1UEAxMOQ0ZDQSBURVNUIE9DQTEwHhcNMTUxMjE1MDkxMTM1WhcNMTcxMjE1MDkxMTM1WjCBgTELMAkGA1UEBhMCY24xFzAVBgNVBAoTDkNGQ0EgVEVTVCBPQ0ExMRIwEAYDVQQLEwlDRkNBIFRFU1QxFDASBgNVBAsTC0VudGVycHJpc2VzMS8wLQYDVQQDFCYwNDFAWjIwMTQtMTEtMTFAMDAwNDAwMDA6U0lHTkAwMDAwMDAwNTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANHnoPx0JZKZmFjIURxNAbLlWAw2jiFFWBnDF2MIGkya2r0fGiR0knq8zkKUnoIyC+tzEiOavniQaSu0ucuv/V4ugz66PSRxw1gaPcR2dDVdgojF00TcewxlJEA65fK3eKhUYfC3NbRaVQOMMdwv7nNEvzxvdExE47ceMya7FmsUPyLFu9X++chFQiYfr8nH+wdDeYo8w8vCX+Jd2vRuqDOah29CQfkAmXsx3D68zg0q4AjlLI1t5gLKiU5YoG6yWrigPyreEHh716rV8HkTjGWx3cxF/HsLZ/E4SgIr5yIZA6qw8RFqaSXuyw3iDrNf6aSJGO0GKlvxnvD20oGRJokCAwEAAQ=='

const java_bytes = new Buffer(from_java, 'base64')
const node_bytes = new Buffer(from_node, 'base64')

console.log(java_bytes.equals(node_bytes));
console.log(java_bytes.toString('hex') == node_bytes.toString('hex'));
